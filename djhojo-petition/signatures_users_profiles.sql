--sudo service postgresql start

DROP TABLE IF EXISTS signatures;
DROP TABLE IF EXISTS user_profiles ; 
DROP TABLE IF EXISTS users CASCADE;

CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    name VARCHAR NOT NULL CHECK (name <> ''),
    surname VARCHAR NOT NULL CHECK (surname <> ''),
    email VARCHAR NOT NULL UNIQUE CHECK (email <> ''),
    password_hash VARCHAR NOT NULL CHECK (password_hash <> ''),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO users (name, surname, email, password_hash)
VALUES ('Grace','Plum','grace@plum.uk', '$2a$10$ay7G3ag9wUkZgQahIFWbj.Y.Vz74ZG3dDcuLSqH4heRl.kQW9Srhu');

CREATE TABLE user_profiles (
    id SERIAL PRIMARY KEY,
    user_id INT NOT NULL UNIQUE REFERENCES users (id),
    age INT DEFAULT NULL,
    city VARCHAR,
    website VARCHAR,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO user_profiles (user_id, age, city, website)
VALUES ( 1, 27 ,'Berlin','www.linkedin.com/in/telegrace');

CREATE TABLE signatures (
    id SERIAL PRIMARY KEY,
    user_id INT NOT NULL UNIQUE REFERENCES users (id),
    signature TEXT NOT NULL CHECK (signature <> ''),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO signatures (user_id, signature)
VALUES (1, 'data:image/png;base64,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');

--DON'T LIMIT SIGNATURES



